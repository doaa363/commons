{% extends "commons_base.html" %}

{% load staticfiles%}
{% load i18n %}
{% load tinymce_tags %}

{% block head_title %}{% if node %}{% trans "edit learning path node"|capfirst %}: &nbsp;{{ node.label }}{% else %}{% trans "add learning path node"|capfirst %}{% endif %}{% endblock %}

{% block extra_head %}
	{% tinymce_preview "preview-content" %}
	<link href="/static/commons/jquery/jquery-ui-1-11-4.core-autocomplete.css" type="text/css" media="all" rel="stylesheet" />
	<link href="/static/taggit_live/css/taggit_live.css" type="text/css" media="all" rel="stylesheet" />
	<script type="text/javascript" src="/static/admin/js/jquery.js"></script>
	<script type="text/javascript" src="/static/commons/jquery/jquery-ui-1-11-4.core-autocomplete.js"></script>
	<script type="text/javascript" src="/static/taggit_live/js/taggit_live.js"></script>
{% endblock %}

{% block body %}
<div class="container">
  <div class="col-sm-12">
    <section>
       <h2 class="text-center">{% if node %}{% trans "edit learning path node"|capfirst %}: &nbsp;{{ node.label }}{% else %}{% trans "add learning path node"|capfirst %}{% endif %}</h2>
    <form method="post" action="{{ action }}" id="pathnode_edit_form" class="form-horizontal">
	{% csrf_token %}
    {% for field in form.hidden_fields %}{{ field }}{% endfor %}
    {% for field in form.visible_fields %}{% with i=forloop.counter %}
    <div class="row"  style="margin-top: 0; margin-bottom: 0;">
	<div class="form-group col-lg-{% if i == 1 or i == 3 or i == 4 or i == 7 or i == 8 %}8{% else %}5{% endif %}">
	    <label for="{{ field.name }}" style="margin-bottom: 0;">{{ field.label|capfirst}} {% if field.required %}<span style="color: red;">*</span>{% endif %}</label>
		<div><span style="color: red;">{{ field.errors }}</span>{{ field }}</div>
		{% if field.help_text %}<span id="{{ field.name }}helpBlock" class="help-block" style="font-size: smaller; margin-bottom: 0;">{{ field.help_text }}</span>{% endif %}
	</div>
	</div>
    {% endwith %}{% endfor %}

   	</div></div>
		<button type="submit" name="save" id="save" value="save" class="btn btn-default" style="margin-top: 0.5em; margin-left: 0;">Save{% if lp %} changes{% endif %}</button>&nbsp;
		<button type="submit" name="continue" id="continue" value="continue" class="btn btn-default" style="margin-top: 0.5em; margin-left: 0;">Save and continue</button>&nbsp;
		<button type="submit" name="cancel" id="cancel" value="cancel" class="btn btn-default" style="margin-top: 0.5em; margin-left: 0;">Cancel (user view)</button>
    </form>
    </section>
  </div>
{% endblock %}
