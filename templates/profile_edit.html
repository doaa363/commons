{% extends "commons_base.html" %}

{% load staticfiles%}
{% load i18n %}
{% load tinymce_tags %}

{% block head_title %}{% trans "Edit profile of" %}: &nbsp;
	{% if user.first_name %}{{ user.first_name }} {{ user.last_name }}
	{% else %}{{ user.username }}
	{% endif %}{% endblock %}

{% block body_class %}home{% endblock %}

{% block extra_head %}
	{{ form.media }}
	<script src="{% block jquery_src %}{% static "jquery/js/jquery-2.1.3.min.js" %}{% endblock %}"></script>
	<script src="{% static "js/bootstrap-datetimepicker.js" %}"></script>
	{% tinymce_preview "preview-content" %}
{% endblock %}

{% block body %}
<div class="container">
  <div class="col-sm-12">
    <section>
            <h2 class="text-center">{% trans "edit profile of"|capfirst %}:
				{% if user.first_name %} {{ user.first_name }} {{ user.last_name }} {% else %} {{ user.username }}{% endif %}
			</h2>
    <form method="post" id="edit_form" class="form-horizontal">
    {% comment %}see http://stackoverflow.com/questions/18539711/input-widths-on-bootstrap-3{% endcomment %}
	{% csrf_token %}
    {% for field in form.hidden_fields %}{{ field }}{% endfor %}
    {% for field in form.visible_fields %}{% with i=forloop.counter %}
    <div class="row"  style="margin-top: 0; margin-bottom: 0;">
	<div class="form-group col-lg-{% if i == 1 or i == 2 %}3{% elif i == 7 or i == 13 or i == 14 or i == 15 %}8{% else %}5{% endif %}">
	    <label for="{{ field.name }}" style="margin-bottom: 0;">{{ field.label}}</label>
		{{ field.errors }}{{ field }}
		{% if field.help_text %}<span id="{{ field.name }}helpBlock" class="help-block" style="font-size: smaller; margin-bottom: 0;">{{ field.help_text }}</span>{% endif %}
	</div>
	</div>
    {% endwith %}{% endfor %}
		<button type="submit" name="submitted" value="submitted" class="btn btn-default" style="margin-top: 0.5em; margin-left: 0;">Submit</button>
    </form>
    </section>
  </div>
{% endblock %}

{% block extra_script %}
	<script type="text/javascript" src="/static/tiny_mce/tiny_mce.js"></script>
	<script>
	tinyMCE.init({
	    mode: "specific_textareas",
	    editor_selector : "richtext",
	    theme : "advanced",
	});	</script>
{% endblock %}

