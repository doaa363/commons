{% extends "commons_base.html" %}

{% load i18n %}

{% block head_title %}{% trans "repository"|capfirst %}: {{ repo.name }}{% endblock %}

{% block body_class %}home{% endblock %}

{% block body %}
    <section>
        <div class="container">
            <h2 class="text-center" style="color: {{ repo.get_title_color }};">{% trans "repository"|capfirst %}:
            	&nbsp; {{ repo.name }}
                &nbsp; <a href="/repo_oers/{{ repo.slug }}/" title="list OERs"><i class="fa fa-list" style="font-size: 0.7em;""></i></a>
                {% if can_edit %}&nbsp; <a href="/repo/{{ repo.slug }}/edit/" title="{% trans "show edit view" %}"><i class="fa fa-edit" style="font-size: 0.7em;""></i></a>{% endif %}
            </h2>
            <p class="lead">
			{% if repo.description %}<div style="margin-bottom: 0.5em; font-style: italic;">{{ repo.description }}</div>{% endif %}
            <div><strong>Type</strong>: {{ repo_type.description }}</div>
            <div><strong>URL</strong>: <a href="{{ repo.url }}" target="_blank">{{ repo.url }}</a></div>
    		{% if repo.features.all %}
    		<div style="margin-top: 0.5em;"><strong>Features</strong>:
			<ul class="root">
		        {% for feature in repo.features.all %}
		        <li>{{ feature.name }}</li>
		        {% endfor %}
			</ul>
			</div>
		    {% endif %}
    		<div><strong>Subject areas</strong>:
    		{% if repo.subjects.all %}
 			<ul class="root">
		        {% for subject in repo.subjects.all %}
		        <li>{{ subject.option_label|safe }}</li>
		        {% endfor %}
			</ul>
		    {% else %}
				<div style="margin-left: 1.5em;"><i>Any</i></div>
		    {% endif %}
			</div>
    		<div><strong>OER languages</strong>:
    		{% if repo.languages.all %}
			<ul class="root">
		        {% for language in repo.languages.all %}
		        <li>{{ language.code }} - {{ language.name }}</li>
		        {% endfor %}
			</ul>
		    {% else %}
				<div style="margin-left: 1.5em;"><i>{% trans "any"|capfirst %}</i></div>
		    {% endif %}
			</div>
    		{% if repo.info %}
    		<div style="margin-top: 0.5em;"><strong>{% trans "additional information"|capfirst %}</strong>:
				<div style="margin-left: 1.5em;">{{ repo.info|safe }}</div>
			</div>
		    {% endif %}
    		{% if repo.eval %}
    		<div style="margin-top: 0.5em;"><strong>{% trans "comments / evaluation"|capfirst %}</strong>:
				<div style="margin-left: 1.5em;">{{ repo.eval|safe }}</div>
			</div>
		    {% endif %}
            <div><strong>{% trans "submitted by"|capfirst %}</strong>: &nbsp;<a href="/profile/{{ repo.creator.username }}">{{ repo.creator.get_full_name }}</a></div>
{% if user.is_authenticated %}            
            <div><strong>{% trans "publication state"|capfirst %}</strong>: <span style="color: {{ repo.get_title_color }};">{{ repo.get_state }}</span>
                {% if can_submit %}&nbsp; <a href="/repo/{{ repo.id }}/submit/" title="{% trans "submit for publication" %}"><i class="fa fa-mail-forward" style="font-size: 0.7em;""></i></a>{% endif %}
                {% if can_withdraw %}&nbsp; <a href="/repo/{{ repo.id }}/withdraw/" title="{% trans "withdraw" %}"><i class="fa fa-reply" style="font-size: 0.7em;""></i></a>{% endif %}
                {% if can_reject %}&nbsp; <a href="/repo/{{ repo.id }}/reject/" title="{% trans "reject" %}"><i class="fa fa-reply" style="font-size: 0.7em;""></i></a>{% endif %}
                {% if can_publish %}&nbsp; <a href="/repo/{{ repo.id }}/publish/" title="{% trans "publish" %}"><i class="fa fa-check" style="font-size: 0.7em;""></i></a>{% endif %}
                {% if can_un_publish %}&nbsp; <a href="/repo/{{ repo.id }}/un_publish/" title="{% trans "unpublish" %}"><i class="fa fa-lock" style="font-size: 0.7em;""></i></a>{% endif %}
            </div>
{% endif %}
        </div>
    </section>
{% endblock %}
